function changeSesi(e){$("input#sesiDesa").val(e),$(".main-nav ul li a:not(.has-child)").attr("data-desaid",e)}function triggerPilihDesa(e,t,a){$("#pilihDesa").select2({placeholder:"Pilih Desa",language:"id",width:"100%"}),$("#pilihDesa").change((function(){$(this).val();var o=$(this).select2("val");if(0!=o){var i=$(this).find(":selected").data("lat"),r=$(this).find(":selected").data("lng"),n=$(this).find(":selected").data("path");new L.LatLngBounds(new L.LatLng(i,r),new L.LatLng(i,r));""!=n&&e.flyTo([i,r],14,{animate:!0,duration:3}),clearExlude(o)}else $(".leaflet-interactive.poly-desa, .leaflet-interactive.poly-wil").removeClass("fade-poly"),e.flyTo([t,a],9,{animate:!0,duration:1.5});$.ajax({type:"POST",dataType:"html",url:"/first/filterIdDesa?",data:"filterIdDesa="+o,success:function(t){bersihkan(e),(o=0)&&$(".leaflet-interactive.poly-desa, .leaflet-interactive.poly-wil").removeClass("fade-poly")}}),changeSesi(o)}))}function clearControl(e){bersihkan(e),loadingAset.addTo(e)}function bersihkan(e){$(".leaflet-interactive:not(.not-clear):not(.poly-desa), .leaflet-tooltip:not(.not-clear)").remove(),markerGroup.clearLayers();var t=$('.leaflet-top.leaflet-left .leaflet-control-layers:not(.lahan-check-container) input[type="checkbox"]');$(t).each((function(e,t){$(this).is(":checked")&&($(this).trigger("click"),$(this).removeAttr("checked"))})),$(".info-sebaran").remove(),e.removeControl(lahanControl),e.removeControl(lahanControlUkuran),e.removeControl(sebaranControl),e.removeControl(markerSarana),e.closePopup(),$(".list_kategori").find("li").removeClass("current-menu")}function clearExlude(e){$(".leaflet-interactive:not(.not-clear):not(.poly-desa), .leaflet-tooltip:not(.not-clear)").remove(),$(".leaflet-interactive.poly-desa, .leaflet-interactive.poly-wil").removeClass("fade-poly"),$(".leaflet-interactive.poly-desa:not(.desa-"+e+")").addClass("fade-poly")}function menuActive(e){$(".list_kategori").find("li").removeClass("current-menu"),$(e).parent("li").addClass("current-menu")}function filterFormDesa(e,t,a=""){csrf_semua_form(),""!=a&&$("#"+e).attr("target",a),$("#"+e).attr("action",t),$("#"+e).submit()}function resetModalAkun(){$(".modal-body .erm").html(""),$('input[type="password"]').val(""),$(".form-group").removeClass("has-error"),$("label.error").remove(),$(".password-container").slideUp("fast"),$(".toggle-ubah-sandi").html("Ubah sandi?"),$(".show-pass").removeClass("active")}function checkSandi(e){$(".check-sandi").click((function(){var t=$(this),a=$("#pass_lama"),o=$(a).val(),i=$(a).closest(".form-group");""!=o&&$.ajax({url:"user_setting/check_pass_lama/"+e,type:"post",data:{pass_lama:o},success:function(e){1==e?($(".input-sandi-baru").fadeIn(),$(i).removeClass("has-error"),$(i).addClass("has-valid"),$(".error.pass-lama").remove(),$(t).html('<i class="fa fa-check" aria-hidden="true"></i>'),$(a).attr("disabled","disabled")):($(".input-sandi-baru").fadeOut(),$(i).removeClass("has-valid"),$(i).addClass("has-error"),$('<label class="error pass-lama">'+e+"</label>").appendTo(i),$(t).html('<i class="fa fa-chevron-right" aria-hidden="true"></i>'),$(a).removeAttr("disabled"))}})}))}function submitSetting(e){$("#btnSubmit").click((function(){var t=$("#modalAkun"),a=$(t).find(".erm"),o=$("#namaLengkap").val(),i=$("#pass_lama").val(),r=$("#pass_baru").val(),n=$("#pass_baru1").val(),s="user_setting/update_password/"+e;""!=i?$("#modalAkun").find(".has-error").length||$.ajax({url:s,type:"post",data:{pass_lama:i,pass_baru:r,pass_baru1:n,nama:o},success:function(e){$(a).fadeOut().html(""),$(e).appendTo(a),$(a).fadeIn(),'<div class="alert alert-success">Data berhasil tersimpan!</div>'==e&&location.reload()}}):$.ajax({url:s,type:"post",data:{nama:o},success:function(e){$(a).fadeOut().html(""),$(e).appendTo(a),$(a).fadeIn(),'<div class="alert alert-success">Data berhasil tersimpan!</div>'==e&&location.reload()}})}))}function resetToggleSandi(){$('input[type="password"]').val(""),$(".toggle-ubah-sandi").html("Ubah sandi?"),$(".input-sandi-baru").fadeOut(),$(".form-group").removeClass("has-valid has-error"),$(".pass-lama").remove(),$(".check-sandi").html('<i class="fa fa-chevron-right" aria-hidden="true"></i>').hide(),$("#pass_lama").removeAttr("disabled")}$(document).ready((function(){var e=$("toggle-sebaran-penduduk").closest("label");$(e).find("input");function t(){$("img#load2").show();var e=$("#pilihKota").val();$.ajax({type:"POST",dataType:"html",url:"/first/getProvinsi?jenis=kecamatan",data:"id_regencies="+e,success:function(e){$("select#pilihKecamatan").html(e),$("img#load2").hide(),$(".row-kecamatan").addClass("show"),a()}})}function a(){$("img#load3").show();var e=$("#pilihKecamatan").val();$.ajax({type:"POST",dataType:"html",url:"/first/getProvinsi?jenis=kelurahan",data:"id_district="+e,success:function(e){$("select#pilihKelurahan").html(e),$("img#load3").hide(),$(".row-desa").addClass("show"),$(".btn-filter-submit").removeAttr("disabled")}})}triggerMenu(map),resizeWindow(map),$("#pilihProvinsi").select2({placeholder:"Pilih Provinsi",language:"id",width:"100%"}),$("#pilihKota").select2({placeholder:"Pilih Kota/Kabupaten",language:"id",width:"100%"}),$("#pilihKecamatan").select2({placeholder:"Pilih Kecamatan",language:"id",width:"100%"}),$("#pilihKelurahan").select2({placeholder:"Pilih Kelurahan",language:"id",width:"100%"}),$("#pilihProvinsi, #pilihKota, #pilihKecamatan, #pilihKelurahan, #pilihDesa").on("select2:open",(function(e){$("body").addClass("select-open")})),$("#pilihProvinsi, #pilihKota, #pilihKecamatan, #pilihKelurahan, #pilihDesa").on("select2:close",(function(e){$("body").removeClass("select-open")})),$("#pilihProvinsi").change((function(){$("img#load1").show();var e=$(this).val();$.ajax({type:"POST",dataType:"html",url:"/first/getProvinsi?jenis=kota",data:"id_provinces="+e,success:function(e){$("select#pilihKota").html(e),$("img#load1").hide(),$(".row-kota").addClass("show"),t()}})})),$("#pilihKota").change(t),$("#pilihKecamatan").change(a),$(".toggle-ubah-sandi").click((function(){var e=$(this);$(".password-container").slideToggle((function(){$(".password-container").is(":hidden")?resetToggleSandi():$(e).html("Batal")}))})),$(".show-pass").click((function(){var e=$(this),t=$(this).closest(".input-group").find("input");"password"===t.attr("type")?(t.attr("type","text"),e.addClass("active")):(t.attr("type","password"),e.removeClass("active"))})),$("#pass_lama").keyup((function(){""!=$(this).val()?$(".check-sandi").show():$(".check-sandi").hide()})),$("#modalAkun").on("show.bs.modal",(function(e){$(this);resetModalAkun(),resetToggleSandi()})),$("#pass_baru1").length&&setTimeout((function(){$("#pass_baru1").rules("add",{equalTo:"#pass_baru"})}),500)})),$(window).on("load",(function(){}));var elemTotal="#totalPenduduk";function resizeWindow(e){$(window).resize((function(){$("#map").removeAttr("style"),$("body").removeClass("hide-menu"),e.invalidateSize(),triggerMenu(e)}))}function triggerMenu(e){$(window).width()<768&&($("body").hasClass("hide-menu")||$(".toggle-menu.mobile a").trigger("click"))}function toggleMenu(e){$(".toggle-menu a").on("click",(function(){$("body").toggleClass("hide-menu");var t=$("body").hasClass("hide-menu"),a=$(window).width();if(a>767)var o=a-66;else o=a;t?($("#map").width(o),e.invalidateSize()):($("#map").removeAttr("style"),setTimeout((function(){e.invalidateSize()}),500))}))}function loadingControl(e,t){return e.onAdd=function(e){return this._div=L.DomUtil.create("div","leaflet-bar"),this._div.innerHTML='<a class="leaflet-control-loading"></a>',$(".main-nav").addClass("loading-active"),this._div},e}function toggleExport(e){var t=L.control({position:"topright"});t.onAdd=function(e){return this._div=L.DomUtil.create("div"),this._div.classList.add("leaflet-bar","leaflet-control"),this._div.setAttribute("onclick","manualPrint()"),this._div.innerHTML='<a class="trigger-export"></a>',this._div},t.addTo(e)}function toggleClear(e){var t=L.control({position:"topright"});t.onAdd=function(e){return this._div=L.DomUtil.create("div"),this._div.classList.add("leaflet-bar","leaflet-control"),this._div.setAttribute("onclick","bersihkan(map)"),this._div.innerHTML='<a class="trigger-clear" title="Bersihkan Peta"></a>',this._div},t.addTo(e)}function checkUkuran(){$('.lahan-check-container input[type="checkbox"]').is(":checked")?$(".tooltip-lahan").show():$(".tooltip-lahan").hide()}getTotalPendudukPlus(elemTotal);var styleProv={color:configColor.border,opacity:1,weight:1,fillColor:configColor.desa,fillOpacity:.1,fill:!1,className:"not-clear"};function petaProv(e){$.getJSON("/assets/geojson.geojson",(function(t){L.geoJson(t,{style:styleProv,onEachFeature:function(e,t){t.layerID="layerProv"}}).addTo(e)}))}function setLayerSebaran(e,t,a,o,i){var r={};return $.ajax({async:!1,url:config.apiStatSub+"/"+t+"/"+i,dataType:"json",success:function(o){for(var i in o){var n=i,s=o[i],l='<span class="toggle-sebaran-penduduk">'+i+" ("+convertRibuan(s)+" Jiwa)</span>";r[l]=poligonAreaSebaran(e,n,t,a,s)}}}),{['<b style="text-transform:uppercase;">'+a+"</b>"]:r}}function poligonAreaSebaran(e,t,a,o,i){info.onAdd=function(e){return this._div=L.DomUtil.create("div","info-sebaran"),this.update(),this._div},info.update=function(e,t,a){this._div.innerHTML="Sebaran "+(e?"<b>"+t+"</b><br>di RT "+e.rt+" RW "+e.rw+"<br>Dusun "+e.dusun+"<br>Jumlah : <b>"+convertRibuan(a)+" Jiwa</b>":"")},info.addTo(map);var r=L.geoJSON(e,{coordsToLatLng:function(e){return new L.LatLng(e[0],e[1])},style:{weight:1,color:"#555555",opacity:1,fillOpacity:.85,dashArray:"2"},onEachFeature:function(e,a){if(void 0!==e.properties[t])if((i=e.properties[t].jumlah)>0)e.properties[t].file;else;else var i=0;a.setStyle({fillColor:getColor(i)}),a.on("load",(function(){this.setStyle({fillColor:getColor(i)})})),a.on("mouseover",(function(){this.setStyle({fillColor:lightenColor(getColor(i),15),color:"#aaaaaa"}),info.update(a.feature.properties,t,i)})),a.on("mouseout",(function(){this.setStyle({fillColor:getColor(i),color:"#555555"}),info.update()}));var r='<div class="popup-sebaran"><h5> RT '+e.properties.rt+" RW "+e.properties.rw+" Dusun "+e.properties.dusun+"</h5><p>"+o+" : "+t+'<br> Jumlah : <span class="jml-orang"><b>'+i+"</b></span> Jiwa</p></div>";a.bindPopup(r),a.bindTooltip(i,{sticky:!0,direction:"center",permanent:!0})}});return legend.onAdd=function(e){getTotalPendudukPlus(elemTotal);for(var t,a,o=L.DomUtil.create("div","info-sebaran legend"),i=[0,10,20,50,100,200,500,1e3],r=[],n=0;n<i.length;n++)t=i[n],a=i[n+1],r.push('<i style="background:'+getColor(t+1)+'"></i> '+parseInt(t+1)+(a?" &ndash; "+a:"+"));return o.innerHTML=r.join("<br>"),o},legend.addTo(map),r}function setLayerCustomSaranaAll(e,t,a,o,i,r,n){var s=t,l=a,p=e,d=o,c={};return $.ajax({async:!1,url:config.apiLokasiKategori+"/"+n,dataType:"json",success:function(e){for(var t=e.filter((function(e){return e.parrent==l})),a=t.length,o=0;o<a;o++){var i,r=t[o].jumlah;i=0!=r?" (<b>"+r+"</b>)":" ("+r+")";var n=t[o].nama+i,u=(t[o].id,t[o].id);c[n]=saranaLayer(p,s,d,u)}}}),{['<b style="text-transform:uppercase;">'+d+"</b>"]:c}}function saranaLayer(e,t,a,o){var i=L.geoJSON(e,{coordsToLatLng:function(e){return new L.LatLng(e[0],e[1])},pointToLayer:function(e,a){var o=L.icon({iconUrl:t+e.properties.simbol,iconSize:[20,25],iconAnchor:[16,25],popupAnchor:[-5,-26]});return L.marker(a,{icon:o})},filter:function(e,t){return e.properties.ref_point===o},onEachFeature:function(e,t){if(""!==e.properties.nama_jalan||"-"!==e.properties.nama_jalan)var a="<p>"+e.properties.nama_jalan+"</p>";else a="";if(""!==e.properties.desk||"-"!==e.properties.desk)var o="<p>"+e.properties.desk+"</p>";else o="";if(e.properties.foto)var i='<a href="javascript:;" data-img="'+config.pathImageLokasi+e.properties.foto+'" data-title="'+e.properties.nama+'" data-remote="false" data-toggle="modal" data-target="#modalFoto"><img src="'+config.pathImageLokasi+e.properties.foto+'" alt="'+e.properties.nama+'" style="max-width: 100%;"></a>';else i="";var r='<div id="content"><h4 id="firstHeading" class="firstHeading">'+e.properties.nama+'</h4><div id="bodyContent">'+i+a+o+"</div></div>";t.bindPopup(r),t.bindTooltip(e.properties.nama,{direction:"bottom"})}});return[].push(i),i}function setLayerCustomSarana(e,t,a,o,i){var r=new L.MarkerClusterGroup,n=L.featureGroup(),s={"Tampilkan Pin":n},l=L.geoJSON(e,{coordsToLatLng:function(e){return new L.LatLng(e[0],e[1])},pointToLayer:function(e,a){var o=L.icon({iconUrl:t+e.properties.simbol,iconSize:[32,37],iconAnchor:[16,37],popupAnchor:[0,-28]});return L.marker(a,{icon:o})},filter:function(e,t){return"true"===o?e.properties.kategori===a:e.properties.jenis===a},onEachFeature:function(e,t){var a='<div id="content"><h4 id="firstHeading" class="firstHeading">'+e.properties.nama+'</h4><div id="bodyContent"><p>'+e.properties.nama_jalan+"</p><p>"+e.properties.desk+"</p></div></div>";t.bindPopup(a),t.bindTooltip(e.properties.nama)}});return[].push(l),r.addLayer(l),i.on("layeradd layerremove",(function(){var e=new L.LatLngBounds;i.eachLayer((function(t){i.hasLayer(n)?i.addLayer(r):(i.removeLayer(r),i._layersMaxZoom=21),t instanceof L.FeatureGroup&&e.extend(t.getBounds())}))})),s}function setLayerCustomPersil(e,t,a){var o={weight:.5,color:configColor.border,opacity:1,fillColor:configColor.primary,fillOpacity:.85},i=L.geoJSON(e,{coordsToLatLng:function(e){return new L.LatLng(e[0],e[1])},style:o,onEachFeature:function(e,t){if(t.on("mouseover",(function(){this.setStyle({fillColor:lightenColor(configColor.primary,15)})})),t.on("mouseout",(function(){this.setStyle({fillColor:configColor.primary})})),""===e.properties.deskripsi||null===e.properties.deskripsi);else{var a=""!==e.properties.Nama_Pemil?"<tr><td>Pemilik</td><td>: "+e.properties.Nama_Pemil+"</td></tr>":"",o="0"!==e.properties.NIK?"<tr><td>NIK</td><td>: "+e.properties.NIK+"</td></tr>":"",i=""!==e.properties.No_Surat_P?"<tr><td>No.Surat</td><td>: "+e.properties.No_Surat_P+"</td></tr>":"",r=""!==e.properties.Nomor_SPPT?"<tr><td>No.SPPT</td><td>: "+e.properties.Nomor_SPPT+"</td></tr>":"",n=""!==e.properties.NIB?"<tr><td>NIB</td><td>: "+e.properties.NIB+"</td></tr>":"",s=""!==e.properties.Jenis_Pers?"<tr><td>Jenis</td><td>: "+e.properties.Jenis_Pers+"</td></tr>":"",l="0"!==e.properties.Luas_PTSL?"<tr><td>Luas PTSL</td><td>: "+convertRibuan(e.properties.Luas_PTSL)+' m<span class="superscript">2</span></td></tr>':"",p=""!==e.properties.Kelas_Tana?"<tr><td>Kelas Tanah</td><td>: "+e.properties.Kelas_Tana+"</td></tr>":"",d="0"!==e.properties.Luas__SPPT?"<tr><td>Luas SPPT</td><td>: "+convertRibuan(e.properties.Luas__SPPT)+' m<span class="superscript">2</span></td></tr>':"",c=""!==e.properties.Peruntukan?"<tr><td>Peruntukkan</td><td>: "+e.properties.Peruntukan+"</td></tr>":"",u=(""!==e.properties.Nama_Jalan&&e.properties.Nama_Jalan,'<table class="table-data-persil">'+a+o+i+r+n+s+l+p+d+c+("<tr><td>Alamat</td><td>: <ul>"+(""!==e.properties.Alamat?"<li>"+e.properties.Alamat+"</li>":"")+"<li>"+("0"!==e.properties.Blok?"Blok "+e.properties.Blok+" ":"")+("0"!==e.properties.RT?"RT "+e.properties.RT+" ":"")+("0"!==e.properties.RW?"RW "+e.properties.RW+" ":"")+(""!==e.properties.Dusun?"Dusun "+e.properties.Dusun+" ":"")+"</li></ul></td></tr>")+(""!==e.properties.Keterangan?"<tr><td>Keterangan</td><td>: "+e.properties.Keterangan+"</td></tr>":"")+"</table>");t.bindPopup(u),t.bindTooltip("Lihat detil")}}});return t.fitBounds(i.getBounds()),i}function overlayWilPersil(e,t,a){var o=e;o[0].push(o[0][0]);var i={weight:1,color:"#FFFFFF",opacity:1,fillColor:"#FC4E2A",fillOpacity:.85,dashArray:"3"};if(""===t)var r=L.polygon(e,i).bindTooltip("Data belum tersedia");else{(r=L.polygon(e,i,{popup:t}).bindTooltip("Lihat detil")).on("click",(function(e){popup=new L.Popup;var o=t,i=r.getBounds();popup.setLatLng(i.getCenter()),popup.setContent(o),a.openPopup(popup),a.fitBounds(r.getBounds())}))}return r}function setLayerCustomLahan(e,t,a){var o={};return $.ajax({async:!1,url:config.apiLahanJenis,dataType:"json",success:function(t){for(var a=t.length,i=0;i<a;i++){var r=t[i].nama,n='<span class="warna-label" style="background-color:'+t[i].warna+';"></span>'+r,s=poligonArea(e,r);o[n]=s}$(".loaderAll").hide()}}),{"<b>TUTUPAN LAHAN</b>":o}}function poligonArea(e,t){return L.geoJSON(e,{coordsToLatLng:function(e){return new L.LatLng(e[0],e[1])},filter:function(e,a){return e.properties.jenis===t},style:{weight:.5,color:"#FFFFFF",opacity:1,fillOpacity:.85},onEachFeature:function(e,t){"Jalan"===e.properties.jenis||"Saluran & Sungai"===e.properties.jenis?t.setStyle({fillColor:e.properties.warna,weight:0}):t.setStyle({fillColor:e.properties.warna,weight:.5,color:lightenColor(e.properties.warna,15)}),t.on("load",(function(){this.setStyle({fillColor:e.properties.warna}),checkUkuran()})),t.on("mouseover",(function(){this.setStyle({fillColor:lightenColor(e.properties.warna,15)})})),t.on("mouseout",(function(){this.setStyle({fillColor:e.properties.warna})})),t.bindTooltip("Lihat detil");var a=parseFloat(e.properties.luas),o=Number(a).toFixed(2);if("Sawah"===e.properties.jenis){var i=""!==e.properties.pemilik?"<tr><td>Pemilik</td><td>: "+e.properties.pemilik+"</td></tr>":"",r=""!==e.properties.luas?"<tr><td>Luas</td><td>: "+o+" Ha</td></tr>":"",n=null!==e.properties.kelas?"<tr><td>Kelas Tanah</td><td>: "+e.properties.kelas+"</td></tr>":"";perAlamatTanah=null!==e.properties.alamat?"<tr><td>Alamat</td><td>: "+e.properties.alamat+"</td></tr>":"";var s='<table class="table-data-persil">'+i+r+n+"</table>";t.bindPopup(s)}else t.bindPopup("Luas : "+o+" Ha");""===e.properties.deskripsi||e.properties.deskripsi}})}function getJenisLahan(e){var t=null;return $.ajax({async:!1,url:config.apiLahanJenis,dataType:"json",success:function(a){var o=a.filter((function(t){return t.nama==e}));$.each(o,(function(e){t='<span class="warna-label" style="background-color:'+o[e].warna+';"></span>'+o[e].nama}))}}),t}function poligonWilNew(e){return L.geoJSON(turf.featureCollection(e),{pmIgnore:!0,onEachFeature:function(e,t){"kantor_desa"==e.properties.name?(t.bindPopup(e.properties.content,{className:"kantor_desa not-clear"}),t.bindTooltip(e.properties.judulkantor,{sticky:!0,direction:"center",permanent:!0,className:"not-clear"})):"leuit_desa"==e.properties.name?(t.bindPopup(e.properties.content,{className:"leuit_desa"}),t.bindTooltip(e.properties.judul,{sticky:!0,direction:"center",permanent:!0,className:"not-clear"})):"dusun"==e.properties.tipe?(t.setStyle({color:"#42b649"}),t.bindTooltip(e.properties.content,{sticky:!0,direction:"center",permanent:!0})):("Wilayah Desa"!==e.properties.name?t.bindTooltip(e.properties.content,{sticky:!0,direction:"center",className:"tooltip-wilayah",offset:[0,10]}):t.bindTooltip(e.properties.desa,{sticky:!0,direction:"center",permanent:!0,className:"not-clear"}),t.bindPopup(e.properties.content)),"kantor_desa"!==e.properties.name&&("RT"==e.properties.name&&t.setStyle({color:"#999999"}),"RW"==e.properties.name&&t.setStyle({color:"#0E86D4"}),t.on("load",(function(){this.setStyle({fillColor:e.properties.color})})),t.on("mouseover",(function(){this.setStyle({fillColor:lightenColor(e.properties.color,15)})})),t.on("mouseout",(function(){this.setStyle({fillColor:e.properties.color})})))},style:function(e){if(e.properties.style)return e.properties.style},pointToLayer:function(e,t){return e.properties.style?L.marker(t,{icon:e.properties.style}):L.marker(t)}})}function overlayWilNew(e,t,a,o){poligonWilNew(e);return{'<b style="text-transform:uppercase;">Batas Wilayah</b>':{" Dusun":poligonWilNew(t)," RW":poligonWilNew(a)," RT":poligonWilNew(o)}}}function overlayWilDesa(e){return poligonWilNew(e)}function setPolygonDesa(e,t,a,o,i,r){var n=JSON.parse(t.path),s=n[0].length;n[0].push(n[0][0]);for(var l=0;l<s;l++)n[0][l].reverse();content=$(i).html(),thisDesa=$(content).find(".firstHeading").html(),e.push(turf.polygon(n,{name:"Wilayah Desa",content:content,desa:thisDesa,style:{color:configColor.border,opacity:1,weight:2.5,fillColor:configColor.desa,fillOpacity:.2,className:"poly-desa desa-"+r},color:configColor.desa}));var p=stylePointLogo(o);e.push(turf.point([t.lng,t.lat],{name:"kantor_desa",content:"Kantor "+a,style:L.icon(p),color:configColor.desa}))}function setPolygonContent(e,t,a,o,i,r,n){for(var s,l=JSON.parse(t),p=l.length,d=0;d<p;d++)if(l[d].path){l[d].path=JSON.parse(l[d].path),s=l[d].path[0].length;for(var c=0;c<s;c++)l[d].path[0][c].reverse();content=$(r+d).html(),thisDusun=$(content).find(".nama-dusun").html();randomColor();l[d].path[0].push(l[d].path[0][0]),e.push(turf.multiPolygon([l[d].path],{name:o,dusun:thisDusun,tipe:i,content:content,style:{stroke:!0,color:lightenColor(configColor.dusun,15),opacity:1,weight:2,fillColor:configColor.dusun,fillOpacity:.05,className:"poly-wil wil-sub-"+i+" class-dusun-"+thisDusun+" desa-"+l[d].id_desa},color:configColor.dusun}))}}function setPointLeuit(e,t,a,o,i,r){content=$(i).html();var n=stylePointLeuit("/assets/images/leuit.png"),s={title:t,clickable:!0,icon:L.icon(n)},l=L.marker([a,o],s);l.bindPopup(content),l.addTo(e);$("#isi_popup_leuit_"+r).find("a")}function stylePointLeuit(e){return{iconSize:[20,20],iconAnchor:[8,20],popupAnchor:[2,-16],iconUrl:e,className:"not-clear"}}function leuitOnClick(e){}